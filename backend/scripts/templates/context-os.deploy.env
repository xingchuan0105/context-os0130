# Context-OS deployment env template (systemd/docker)

# === App ===
NODE_ENV=production
PORT=3000
DATABASE_URL=/var/www/context-os/data/context-os.db
JWT_SECRET=REPLACE_ME_LONG_RANDOM
ALLOWED_ORIGINS=https://{{DOMAIN}},https://{{WWW_DOMAIN}}

# === LiteLLM gateway ===
LITELLM_BASE_URL=http://127.0.0.1:4410
LITELLM_API_KEY=REPLACE_ME

# === Qdrant ===
QDRANT_URL=http://10.0.0.5:6333
# QDRANT_ROOT_KEY=

# === Redis / worker ===
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
WORKER_CONCURRENCY=1

# === Model defaults ===
DEFAULT_MODEL=qwen3-max
EMBEDDING_MODEL=qwen3-embedding-4b
RERANK_MODEL=qwen3-reranker-4b
USE_RERANK=1
RERANK_TIMEOUT_MS=30000

# === Vision OCR ===
VISION_OCR_MODEL=qwen3-vl-flash
# VISION_OCR_BASE_URL=
# VISION_OCR_API_KEY=

# === K-Type ===
KTYPE_MODEL=qwen-flash
KTYPE_MAX_TOKENS=500000
KTYPE_MAX_CHARS=990000

# === Chunking ===
DOC_CHUNK_SIZE=2400
DOC_CHUNK_OVERLAP=300
PARENT_CHUNK_SIZE=1600
PARENT_CHUNK_OVERLAP=240
CHILD_CHUNK_SIZE=420
CHILD_CHUNK_OVERLAP=100
CHUNK_STREAMING=false
SEMCHUNK_TIMEOUT_MS=300000

# === Memory / GC ===
MEMORY_THRESHOLD_MB=0
MEMORY_LOG=false
GC_AFTER_KTYPE=false
GC_AFTER_CHUNKING=false
GC_AFTER_EMBEDDING=false

# === COS storage ===
TENCENT_COS_SECRET_ID=REPLACE_ME
TENCENT_COS_SECRET_KEY=REPLACE_ME
TENCENT_COS_BUCKET=REPLACE_ME
TENCENT_COS_REGION=ap-guangzhou
